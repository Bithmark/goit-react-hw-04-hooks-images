(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{21:function(e,t,a){e.exports={loader:"ImageGalleryItem_loader__w41yb"}},22:function(e,t,a){e.exports={btn:"Button_btn__3ChLt"}},28:function(e,t,a){},30:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(19),o=a.n(r),s=(a(28),a(10)),u=a(6),i=a.n(u),l=a(9),j=a(4),b=(a(30),a(0)),m=function(e){var t=e.onSetQuery,a=e.query,n=e.onSubmit;return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{onSubmit:n,className:"SearchForm",children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{onInput:t,className:"SearchForm-input",type:"text",value:a,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},d=a(20),h=a.n(d),f=function(){return Object(b.jsx)(h.a,{type:"Puff",color:"#fffb00",height:120,width:120,timeout:23e3})},O=a(21),p=a.n(O);var x=function(e){var t=e.url,a=e.alt,c=e.modalUrl,r=e.showModal,o=Object(n.useState)(!0),s=Object(j.a)(o,2),u=s[0],i=s[1];return Object(b.jsxs)("li",{onClick:function(){return r(c)},className:"ImageGalleryItem",children:[Object(b.jsx)("img",{onLoad:function(){return i(!1)},src:t,alt:a,className:"ImageGalleryItem-image"}),u&&Object(b.jsx)("div",{className:p.a.loader,children:Object(b.jsx)(f,{})})]})},v=function(e){var t=e.images,a=e.showModal;return Object(b.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.tags,n=e.webformatURL,c=e.id,r=e.largeImageURL;return Object(b.jsx)(x,{showModal:a,modalUrl:r,url:n,alt:t},c)}))})},g=a(22),y=a.n(g),w=function(e){var t=e.onLoadMore;return Object(b.jsx)("button",{className:y.a.btn,onClick:t,type:"button",children:"Load more"})},S=function(e){var t=e.modalImg,a=e.closeModal;return Object(b.jsx)("div",{onClick:a,className:"Overlay",children:Object(b.jsx)("div",{className:"Modal",children:Object(b.jsx)("img",{src:t,alt:""})})})},k=a(23),I=a.n(k);var N=function(e,t){return I()({method:"GET",url:"https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=".concat(e,"&page=").concat(t,"&per_page=12")})};var M=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(j.a)(r,2),u=o[0],d=o[1],h=Object(n.useState)([]),O=Object(j.a)(h,2),p=O[0],x=O[1],g=Object(n.useState)(""),y=Object(j.a)(g,2),k=y[0],I=y[1],M=Object(n.useState)(!1),L=Object(j.a)(M,2),G=L[0],_=L[1],E=function(e){"Escape"===e.key&&I("")};Object(n.useEffect)((function(){k?window.addEventListener("keyup",E):window.removeEventListener("keyup",E)}),[k]);var C=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(1),_(!0),e.next=5,N(a,1);case 5:n=e.sent,c=n.data.hits,_(!1),x(c),d((function(e){return e+1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,N(a,u);case 3:t=e.sent,n=t.data.hits,x((function(e){return[].concat(Object(s.a)(e),Object(s.a)(n))})),d((function(e){return e+1})),_(!1),window.scrollTo({top:document.querySelector(".ImageGallery").scrollHeight,behavior:"smooth"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{query:a,onSetQuery:function(e){c(e.target.value)},onSubmit:C}),G&&Object(b.jsx)(f,{}),Object(b.jsx)(v,{showModal:function(e){I(e)},images:p}),G&&Object(b.jsx)(f,{}),!!p.length&&Object(b.jsx)(w,{onLoadMore:F}),k&&Object(b.jsx)(S,{closeModal:function(e){"IMG"!==e.target.nodeName&&I("")},modalImg:k})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.807ae435.chunk.js.map